notifications:
  email: false

sudo: required

services:
   - docker

env:
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64 PYVER=cp34-cp34m
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64 PYVER=cp35-cp35m
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64 PYVER=cp27-cp27m
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64 PYVER=cp27-cp27mu
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_i686 PYVER=cp34-cp34m PRE_CMD=linux32
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_i686 PYVER=cp35-cp35m PRE_CMD=linux32
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_i686 PYVER=cp27-cp27m PRE_CMD=linux32
   - DOCKER_IMAGE=quay.io/pypa/manylinux1_i686 PYVER=cp27-cp27mu PRE_CMD=linux32

install:
  - docker pull $DOCKER_IMAGE

script:
  - export PYVER=${PYVER}
  - docker run -e "PYVER=${PYVER}" --rm -v `pwd`:/io $DOCKER_IMAGE $PRE_CMD /io/travis/build-wheels.sh
  - ls wheelhouse/

before_deploy:
  - cd wheelhouse

#deploy:
#  provider: cloudfiles
#  username: travis-worker
#  api_key:
#      secure: ""
#  region: ORD
#  container: wheels
#  skip_cleanup: true
